(()=>{var e={435:(e,t)=>{t.tabListener=function(e,t){return function r(n,s,o){!0===o.active&&chrome.storage.sync.get(["appid"],(function(s){chrome.storage.sync.set({tabid:n,...s},(function(){})),t=s.appid;let o={testName:e.options.testName,event:e.event,appid:t,tabId:n};"playbackStarted"==e.event?function(e,t,r,n){chrome.scripting.executeScript({target:{tabId:e},world:"MAIN",func:function(e,t,r){const n=new XMLHttpRequest;if(n.open("GET","http://localhost:8081/api/deps?appid="+e+"&testName="+t,!1),n.send(null),200==n.status&&null==sessionStorage.getItem("depArr")){const s=JSON.parse(n.responseText);sessionStorage.setItem("depArr",JSON.stringify(s[0].deps));let o=new CustomEvent("eventMode",{detail:{event:"playbackStarted",testName:t,appid:e,tabId:r}});document.dispatchEvent(o)}},args:[t,r.options.testName,e],injectImmediately:!0},(function(e){null!=e&&chrome.tabs.onUpdated.removeListener(n)}))}(n,t,e,r):chrome.tabs.sendMessage(n,o,(e=>{!chrome.runtime.lastError&&e?chrome.tabs.onUpdated.removeListener(r):console.log(chrome.runtime.lastError)}))}))}}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{const{tabListener:e}=r(435),t="mooikfkahbdckldjjndioackbalphokd";var n;n={name:"Selenium IDE plugin",version:"1.0.0",commands:[]},setInterval((()=>{chrome.runtime.sendMessage(t,{uri:"/health",verb:"get"}).catch((e=>({error:e.message}))).then((e=>{e||chrome.runtime.sendMessage(t,{uri:"/register",verb:"post",payload:n})}))}),1e3);var s="";chrome.scripting.getRegisteredContentScripts({ids:["1"]},(e=>{0===e.length&&(console.log("registers content script!!!"),chrome.scripting.registerContentScripts([{world:"MAIN",id:"1",js:["kscript.js"],runAt:"document_start",allFrames:!0,matches:["<all_urls>"]}]))})),chrome.runtime.onMessageExternal.addListener((async(t,r,n)=>{console.log("event triggered",t),"recordingStopped"===t.event||"playbackStopped"===t.event?chrome.storage.sync.get(["tabid"],(function(e){chrome.tabs.sendMessage(e.tabid,{event:t.event,testName:t.options.testName,appid:e.appid,tabId:e.tabid},(e=>{!chrome.runtime.lastError&&e?chrome.storage.sync.remove("tabid"):console.log(chrome.runtime.lastError)}))})):"projectLoaded"===t.event?(s=t.options.projectName,chrome.storage.sync.set({appid:s},(function(){}))):"commandRecorded"!==t.event&&chrome.tabs.onUpdated.addListener(e(t,s)),n(!0)}))})()})();